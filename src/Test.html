<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- کانتینر اصلی (بدون transform/opacity که stacking context می‌سازه) -->
<div class="relative">

  <!-- سایدبار (مثال) -->
  <aside id="sidebar" class="w-64 h-screen fixed left-0 top-0 bg-gray-100 z-20">
    <!-- محتوای فیلتر -->
  </aside>

  <!-- دکمه مگا منو -->
  <div class="ml-64 p-4"> <!-- ml-64 تا کناره سایدبار قرار بگیره -->
    <button id="megaBtn" class="px-4 py-2 bg-blue-600 text-white rounded">باز کردن مگا منو</button>

    <!-- مگا منو: position absolute/fixed + z بالا + overflow-visible والد -->
    <div id="megaMenu"
         class="hidden fixed top-16 left-64 w-[700px] bg-white shadow-2xl z-50 border rounded-md p-6"
         role="menu"
         aria-hidden="true">
      <!-- محتوای مگا منو -->
      <div class="grid grid-cols-3 gap-4">
        <div>ستون ۱</div>
        <div>ستون ۲</div>
        <div>ستون ۳</div>
      </div>
    </div>
  </div>

</div>

<script>
  const btn = document.getElementById('megaBtn');
  const menu = document.getElementById('megaMenu');

  btn.addEventListener('click', () => {
    menu.classList.toggle('hidden');
    menu.setAttribute('aria-hidden', menu.classList.contains('hidden'));
  });

  // کلیک بیرون برای بستن (اختیاری)
  document.addEventListener('click', (e) => {
    if (!btn.contains(e.target) && !menu.contains(e.target)) {
      menu.classList.add('hidden');
      menu.setAttribute('aria-hidden', 'true');
    }
  });
</script>

  </body>
</html>
